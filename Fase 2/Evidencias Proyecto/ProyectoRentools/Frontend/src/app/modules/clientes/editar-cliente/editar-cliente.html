<div class="container" *ngIf="cliente">
    <h2 class="form-title">Editar Cliente</h2>

    <!-- Datos fijos: tipo de cliente y RUT -->
    <div class="form-group">
        <label>Tipo de Cliente</label>
        <input type="text" [value]="cliente.tipo_cliente === 'persona_natural' ? 'Persona' : 'Empresa'"
            class="form-control" readonly />
    </div>

    <div class="form-group">
        <label>RUT</label>
        <input type="text" [value]="cliente.rut" class="form-control" readonly />
    </div>

    <!-- Formulario -->
    <form [formGroup]="clienteForm" (ngSubmit)="actualizarCliente()" class="cliente-form">

        <!-- 游댳 Campos para persona -->
        <div *ngIf="cliente.tipo_cliente === 'persona_natural'">
            <div class="form-group">
                <label>Nombre</label>
                <input type="text" formControlName="nombre" class="form-control" />
                <div class="text-danger"
                    *ngIf="clienteForm.get('nombre')?.invalid && clienteForm.get('nombre')?.touched">
                    Nombre es requerido
                </div>
            </div>

            <div class="form-group">
                <label>Apellido</label>
                <input type="text" formControlName="apellido" class="form-control" />
                <div class="text-danger"
                    *ngIf="clienteForm.get('apellido')?.invalid && clienteForm.get('apellido')?.touched">
                    Apellido es requerido
                </div>
            </div>
        </div>

        <!-- 游댳 Campos para empresa -->
        <div *ngIf="cliente.tipo_cliente === 'empresa'">
            <div class="form-group">
                <label>Raz칩n Social</label>
                <input type="text" formControlName="razon_social" class="form-control" />
                <div class="text-danger"
                    *ngIf="clienteForm.get('razon_social')?.invalid && clienteForm.get('razon_social')?.touched">
                    Raz칩n social es requerida
                </div>
            </div>

            <div class="form-group">
                <label>Nombre Fantas칤a</label>
                <input type="text" formControlName="nombre_fantasia" class="form-control" />
                <div class="text-danger"
                    *ngIf="clienteForm.get('nombre_fantasia')?.invalid && clienteForm.get('nombre_fantasia')?.touched">
                    Nombre fantas칤a es requerido
                </div>
            </div>

            <div class="form-group">
                <label>Giro</label>
                <input type="text" formControlName="giro" class="form-control" />
                <div class="text-danger" *ngIf="clienteForm.get('giro')?.invalid && clienteForm.get('giro')?.touched">
                    Giro es requerido
                </div>
            </div>
        </div>

        <!-- 游댳 Campos comunes -->
        <div class="form-group">
            <label>Email</label>
            <input type="email" formControlName="email" class="form-control" />
            <div class="text-danger" *ngIf="clienteForm.get('email')?.invalid && clienteForm.get('email')?.touched">
                Email inv치lido
            </div>
        </div>

        <div class="form-group">
            <label>Direcci칩n</label>
            <input type="text" formControlName="direccion" class="form-control" />
        </div>

        <div class="form-group">
            <label>Ciudad</label>
            <input type="text" formControlName="ciudad" class="form-control" />
        </div>

        <div class="form-group">
            <label>Comuna</label>
            <input type="text" formControlName="comuna" class="form-control" />
        </div>

        <!-- Botones -->
        <div class="botones-acciones">
            <button type="button" class="btn-cancelar" (click)="cancelar()">Cancelar</button>
            <button type="submit" [disabled]="clienteForm.invalid" class="btn-actualizar">Actualizar</button>
        </div>
    </form>
</div>

<!-- Mientras carga -->
<div *ngIf="!cliente" class="text-center mt-5">
    <p>Cargando datos del cliente...</p>
</div>